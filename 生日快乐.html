
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ï¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B',
                        secondary: '#FFD166',
                        dark: '#2A2A2A',
                        light: '#FFF9F9'
                    },
                    fontFamily: {
                        birthday: ['"Comic Sans MS"', '"Marker Felt"', 'cursive']
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 3s infinite',
                        'spin-slow': 'spin 10s linear infinite'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }
            .text-shadow-lg {
                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
            }
            .filter-shadow {
                filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
            }
            .backdrop-blur-sm {
                backdrop-filter: blur(4px);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-light to-pink-50 min-h-screen font-birthday text-dark overflow-x-hidden">
    <!-- é¡¶éƒ¨è£…é¥° -->
    <div class="absolute top-0 left-0 w-full overflow-hidden pointer-events-none">
        <div class="w-[120%] h-20 bg-primary/20 rounded-b-full -translate-x-10 filter-blur-md"></div>
    </div>
    
    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="clickSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgMusic" loop preload="auto">
        <source src="https://assets.mixkit.co/music/preview/mixkit-birthday-celebration-1212.mp3" type="audio/mpeg">
    </audio>
    
    <div class="container mx-auto px-4 py-12 relative">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <header class="text-center mb-12 pt-6">
            <h1 class="text-[clamp(2.5rem,5vw,4rem)] font-bold text-primary animate-pulse-slow text-shadow-lg">
                <span class="inline-block transform -rotate-6">ç”Ÿæ—¥å¿«ä¹</span>
                <span class="inline-block transform rotate-6">ğŸ‰</span>
            </h1>
            <p class="text-[clamp(1.2rem,2vw,1.5rem)] mt-4 text-dark/80 animate-float">
                æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡å–œæ‚¦å’Œçˆ±
            </p>
        </header>
        
        <!-- æ§åˆ¶åŒºåŸŸ -->
        <div class="flex justify-center items-center gap-4 mb-8">
            <button id="playMusic" class="bg-primary hover:bg-primary/80 text-white p-3 rounded-full shadow-lg transition-all hover:scale-110">
                <i class="fa fa-music"></i>
            </button>
            <button id="pauseMusic" class="bg-dark hover:bg-dark/80 text-white p-3 rounded-full shadow-lg transition-all hover:scale-110">
                <i class="fa fa-pause"></i>
            </button>
            <button id="toggleSound" class="bg-secondary hover:bg-secondary/80 text-dark p-3 rounded-full shadow-lg transition-all hover:scale-110">
                <i class="fa fa-volume-up"></i>
            </button>
        </div>
        
        <!-- å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ (ä»…åœ¨åˆå§‹çŠ¶æ€æ˜¾ç¤º) -->
        <div id="uploadArea" class="max-w-3xl mx-auto bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border-2 border-primary/30">
            <h2 class="text-2xl font-bold text-primary mb-6 text-center">ä¸Šä¼ ä½ çš„ç…§ç‰‡</h2>
            <p class="text-center text-dark/70 mb-6">ä¸Šä¼ 3å¼ ç…§ç‰‡ï¼Œä¸å¯¿æ˜Ÿä¸€èµ·åˆ†äº«ç¾å¥½å›å¿†</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="upload-container relative border-2 border-dashed border-primary/50 rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer group" data-index="0">
                    <input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept="image/*" data-index="0">
                    <div class="upload-icon text-primary text-4xl mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa fa-cloud-upload"></i>
                    </div>
                    <p class="text-sm text-dark/60">ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</p>
                    <img class="preview-image hidden w-full h-48 object-cover rounded-lg mt-2" src="" alt="é¢„è§ˆå›¾">
                </div>
                
                <div class="upload-container relative border-2 border-dashed border-primary/50 rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer group" data-index="1">
                    <input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept="image/*" data-index="1">
                    <div class="upload-icon text-primary text-4xl mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa fa-cloud-upload"></i>
                    </div>
                    <p class="text-sm text-dark/60">ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</p>
                    <img class="preview-image hidden w-full h-48 object-cover rounded-lg mt-2" src="" alt="é¢„è§ˆå›¾">
                </div>
                
                <div class="upload-container relative border-2 border-dashed border-primary/50 rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer group" data-index="2">
                    <input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" accept="image/*" data-index="2">
                    <div class="upload-icon text-primary text-4xl mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa fa-cloud-upload"></i>
                    </div>
                    <p class="text-sm text-dark/60">ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</p>
                    <img class="preview-image hidden w-full h-48 object-cover rounded-lg mt-2" src="" alt="é¢„è§ˆå›¾">
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button id="submitButton" class="bg-primary hover:bg-primary/80 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    åˆ›å»ºç›¸å†Œ
                </button>
            </div>
        </div>
        
        <!-- å›¾ç‰‡å±•ç¤ºåŒºåŸŸ (åˆå§‹éšè—) -->
        <div id="galleryArea" class="hidden max-w-5xl mx-auto">
            <h2 class="text-2xl font-bold text-primary mb-8 text-center">ç¾å¥½çš„å›å¿†</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <div class="photo-card group cursor-pointer" data-index="0">
                    <div class="relative overflow-hidden rounded-xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 hover:shadow-xl">
                        <img class="gallery-image w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-500" src="" alt="ç…§ç‰‡1">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                            <p class="text-white font-medium">ç‚¹å‡»æŸ¥çœ‹å¤§å›¾</p>
                        </div>
                    </div>
                </div>
                
                <div class="photo-card group cursor-pointer" data-index="1">
                    <div class="relative overflow-hidden rounded-xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 hover:shadow-xl">
                        <img class="gallery-image w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-500" src="" alt="ç…§ç‰‡2">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                            <p class="text-white font-medium">ç‚¹å‡»æŸ¥çœ‹å¤§å›¾</p>
                        </div>
                    </div>
                </div>
                
                <div class="photo-card group cursor-pointer" data-index="2">
                    <div class="relative overflow-hidden rounded-xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 hover:shadow-xl">
                        <img class="gallery-image w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-500" src="" alt="ç…§ç‰‡3">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                            <p class="text-white font-medium">ç‚¹å‡»æŸ¥çœ‹å¤§å›¾</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è£…é¥°å…ƒç´  -->
            <div class="absolute -top-10 -right-10 w-32 h-32 bg-secondary/30 rounded-full filter-blur-xl animate-pulse-slow"></div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-primary/20 rounded-full filter-blur-xl animate-pulse-slow" style="animation-delay: 1s;"></div>
            
            <!-- ç¥ç¦ä¿¡æ¯ -->
            <div class="bg-white/70 backdrop-blur-sm rounded-xl p-8 shadow-lg border border-primary/20 relative z-10">
                <h3 class="text-xl font-bold text-primary mb-4">ç‰¹åˆ«çš„ç¥ç¦</h3>
                <p class="text-dark/80 leading-relaxed">
                    äº²çˆ±çš„è‰è‰ï¼Œä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥ï¼Œè¯·åƒå¥½å–å¥½ï¼Œå¼€å¼€å¿ƒå¿ƒåº¦è¿‡è¿™ç¾å¥½çš„ä¸€å¤©ã€‚å¦‚æœè¯´æ„¿ä½ æ¯æ—¶æ¯åˆ»éƒ½æ²¡æœ‰çƒ¦æ¼å¹¸ç¦å¿«ä¹å¯èƒ½ä¸å¤ªç°å®ï¼Œä½†æ˜¯æˆ‘ä¼šç¥ç¦ä½ ç”Ÿæ´»é‡Œå¸¸ä¼´çˆ±ä¸æ¸©æš–ï¼Œæƒ³åšçš„äº‹æƒ…éƒ½èƒ½åšåˆ°ï¼Œèº«ä½“å€æ£’åƒå˜›å˜›é¦™ï¼Œä¸å¥½çš„äººäº‹ç‰©æ€»èƒ½å¾ˆå¿«å°±è¿‡å»ï¼Œè®©ä½ çš„è®°å¿†é‡Œé¢å……æ»¡å¼€å¿ƒæ„ŸåŠ¨~~~â¤â¤â¤
                </p>
                <div class="mt-6 text-right">
                    <p class="font-bold text-primary">æ°¸è¿œçˆ±ä½ çš„äºº</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å¤§å›¾æŸ¥çœ‹æ¨¡æ€æ¡† -->
    <div id="imageModal" class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden opacity-0 transition-opacity duration-300">
        <button id="closeModal" class="absolute top-6 right-6 text-white text-3xl hover:text-primary transition-colors">
            <i class="fa fa-times"></i>
        </button>
        <button id="prevImage" class="absolute left-6 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-primary transition-colors">
            <i class="fa fa-chevron-left"></i>
        </button>
        <button id="nextImage" class="absolute right-6 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-primary transition-colors">
            <i class="fa fa-chevron-right"></i>
        </button>
        <div class="max-w-4xl w-full px-4">
            <img id="modalImage" src="" alt="å¤§å›¾æŸ¥çœ‹" class="max-h-[80vh] mx-auto rounded-lg shadow-2xl transform transition-transform duration-500 hover:scale-[1.01]">
        </div>
    </div>
    
    <!-- è£…é¥°å…ƒç´  -->
    <div class="fixed bottom-0 left-0 w-full overflow-hidden h-20 pointer-events-none">
        <div class="w-[120%] h-full bg-primary/10 rounded-t-full -translate-x-10 filter-blur-md"></div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // éŸ³é¢‘å…ƒç´ 
            const clickSound = document.getElementById('clickSound');
            const bgMusic = document.getElementById('bgMusic');
            
            // åŒºåŸŸå…ƒç´ 
            const uploadArea = document.getElementById('uploadArea');
            const galleryArea = document.getElementById('galleryArea');
            
            // æŒ‰é’®å…ƒç´ 
            const submitButton = document.getElementById('submitButton');
            const playMusicBtn = document.getElementById('playMusic');
            const pauseMusicBtn = document.getElementById('pauseMusic');
            const toggleSoundBtn = document.getElementById('toggleSound');
            
            // æ¨¡æ€æ¡†å…ƒç´ 
            const imageModal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const closeModalBtn = document.getElementById('closeModal');
            const prevImageBtn = document.getElementById('prevImage');
            const nextImageBtn = document.getElementById('nextImage');
            
            // å›¾ç‰‡æ•°æ®
            const imageData = [null, null, null];
            let currentImageIndex = 0;
            let soundEnabled = true;
            
            // ä¸Šä¼ åŒºåŸŸäº‹ä»¶ç›‘å¬
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                input.addEventListener('change', handleFileSelect);
            });
            
            // æäº¤æŒ‰é’®äº‹ä»¶ç›‘å¬
            submitButton.addEventListener('click', function() {
                playClickSound();
                
                // éšè—ä¸Šä¼ åŒºåŸŸï¼Œæ˜¾ç¤ºå›¾ç‰‡å±•ç¤ºåŒºåŸŸ
                uploadArea.classList.add('hidden');
                galleryArea.classList.remove('hidden');
                
                // å¡«å……å›¾ç‰‡æ•°æ®
                const galleryImages = document.querySelectorAll('.gallery-image');
                galleryImages.forEach((img, index) => {
                    if (imageData[index]) {
                        img.src = imageData[index];
                    }
                });
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                galleryArea.classList.add('animate-fade-in');
                
                // è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹
                setTimeout(() => {
                    playBackgroundMusic();
                }, 1000);
            });
            
            // å›¾ç‰‡å¡ç‰‡ç‚¹å‡»äº‹ä»¶ç›‘å¬
            const photoCards = document.querySelectorAll('.photo-card');
            photoCards.forEach(card => {
                card.addEventListener('click', function() {
                    playClickSound();
                    const index = parseInt(this.dataset.index);
                    openImageModal(index);
                });
            });
            
            // æ¨¡æ€æ¡†æ§åˆ¶
            closeModalBtn.addEventListener('click', closeImageModal);
            prevImageBtn.addEventListener('click', showPrevImage);
            nextImageBtn.addEventListener('click', showNextImage);
            
            // éŸ³ä¹æ§åˆ¶
            playMusicBtn.addEventListener('click', playBackgroundMusic);
            pauseMusicBtn.addEventListener('click', pauseBackgroundMusic);
            toggleSoundBtn.addEventListener('click', toggleSound);
            
            // é”®ç›˜å¯¼èˆª
            document.addEventListener('keydown', function(e) {
                if (imageModal.classList.contains('opacity-100')) {
                    if (e.key === 'Escape') closeImageModal();
                    if (e.key === 'ArrowLeft') showPrevImage();
                    if (e.key === 'ArrowRight') showNextImage();
                }
            });
            
            // å¤„ç†æ–‡ä»¶é€‰æ‹©
            function handleFileSelect(e) {
                const index = parseInt(this.dataset.index);
                const file = this.files[0];
                
                if (file) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        imageData[index] = e.target.result;
                        
                        // æ›´æ–°é¢„è§ˆå›¾
                        const previewImg = this.parentNode.querySelector('.preview-image');
                        previewImg.src = e.target.result;
                        previewImg.classList.remove('hidden');
                        
                        // æ›´æ–°ä¸Šä¼ åŒºåŸŸæ ·å¼
                        const uploadContainer = this.parentNode;
                        uploadContainer.classList.remove('border-dashed', 'border-primary/50');
                        uploadContainer.classList.add('border-primary');
                        
                        // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å›¾ç‰‡éƒ½å·²ä¸Šä¼ 
                        checkAllImagesUploaded();
                    }.bind(this);
                    
                    reader.readAsDataURL(file);
                }
            }
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å›¾ç‰‡éƒ½å·²ä¸Šä¼ 
            function checkAllImagesUploaded() {
                const allUploaded = imageData.every(img => img !== null);
                submitButton.disabled = !allUploaded;
                
                if (allUploaded) {
                    submitButton.classList.remove('disabled:opacity-50', 'disabled:cursor-not-allowed');
                    submitButton.classList.add('animate-pulse-slow');
                } else {
                    submitButton.classList.remove('animate-pulse-slow');
                }
            }
            
            // æ‰“å¼€å›¾ç‰‡æ¨¡æ€æ¡†
            function openImageModal(index) {
                currentImageIndex = index;
                modalImage.src = imageData[index];
                imageModal.classList.remove('hidden');
                
                // æ·»åŠ æ·¡å…¥åŠ¨ç”»
                setTimeout(() => {
                    imageModal.classList.add('opacity-100');
                }, 10);
            }
            
            // å…³é—­å›¾ç‰‡æ¨¡æ€æ¡†
            function closeImageModal() {
                imageModal.classList.remove('opacity-100');
                setTimeout(() => {
                    imageModal.classList.add('hidden');
                }, 300);
            }
            
            // æ˜¾ç¤ºä¸Šä¸€å¼ å›¾ç‰‡
            function showPrevImage() {
                playClickSound();
                currentImageIndex = (currentImageIndex - 1 + imageData.length) % imageData.length;
                modalImage.src = imageData[currentImageIndex];
                
                // æ·»åŠ åˆ‡æ¢åŠ¨ç”»
                modalImage.classList.add('scale-95', 'opacity-50');
                setTimeout(() => {
                    modalImage.classList.remove('scale-95', 'opacity-50');
                }, 100);
            }
            
            // æ˜¾ç¤ºä¸‹ä¸€å¼ å›¾ç‰‡
            function showNextImage() {
                playClickSound();
                currentImageIndex = (currentImageIndex + 1) % imageData.length;
                modalImage.src = imageData[currentImageIndex];
                
                // æ·»åŠ åˆ‡æ¢åŠ¨ç”»
                modalImage.classList.add('scale-95', 'opacity-50');
                setTimeout(() => {
                    modalImage.classList.remove('scale-95', 'opacity-50');
                }, 100);
            }
            
            // æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
            function playClickSound() {
                if (soundEnabled) {
                    clickSound.currentTime = 0;
                    clickSound.play().catch(e => console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', e));
                }
            }
            
            // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
            function playBackgroundMusic() {
                bgMusic.play().catch(e => console.log('èƒŒæ™¯éŸ³ä¹æ’­æ”¾å¤±è´¥:', e));
                playMusicBtn.classList.add('animate-spin-slow');
                pauseMusicBtn.classList.remove('animate-spin-slow');
            }
            
            // æš‚åœèƒŒæ™¯éŸ³ä¹
            function pauseBackgroundMusic() {
                bgMusic.pause();
                playMusicBtn.classList.remove('animate-spin-slow');
                pauseMusicBtn.classList.add('animate-spin-slow');
            }
            
            // åˆ‡æ¢éŸ³æ•ˆå¼€å…³
            function toggleSound() {
                soundEnabled = !soundEnabled;
                if (soundEnabled) {
                    toggleSoundBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
                    playClickSound();
                } else {
                    toggleSoundBtn.innerHTML = '<i class="fa fa-volume-off"></i>';
                }
            }
            
            // æ·»åŠ è£…é¥°å…ƒç´ 
            createConfetti();
        });
        
        // åˆ›å»ºè£…é¥°å…ƒç´ 
        function createConfetti() {
            const container = document.body;
            const colors = ['#FF6B8B', '#FFD166', '#06D6A0', '#118AB2', '#073B4C'];
            
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                const size = Math.random() * 10 + 5;
                
                confetti.style.position = 'fixed';
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.top = `${Math.random() * 100}vh`;
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.opacity = (Math.random() * 0.5 + 0.5).toString();
                confetti.style.animation = `float ${Math.random() * 5 + 5}s linear infinite`;
                confetti.style.transform = `translateY(0)`;
                confetti.style.zIndex = '0';
                
                container.appendChild(confetti);
            }
        }
    </script>
</body>
</html>
    